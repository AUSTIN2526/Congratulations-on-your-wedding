<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>翊青 § 祖萍的婚禮｜11/1 午宴｜萊特薇庭 高雄館 心閱閣 9F</title>
    <meta name="description" content="2025/11/1（六）中午12:00入席、12:30準時開席｜萊特薇庭 高雄館・心閱閣 9樓（高雄市前鎮區林森四路189號）｜停車：承億酒店專屬停車場" />
    <meta property="og:title" content="翊青 § 祖萍的婚禮｜11/1 午宴" />
    <meta property="og:description" content="萊特薇庭 高雄館 心閱閣 9F｜高雄市前鎮區林森四路189號｜12:00入席・12:30開席" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="S__135061520.png" />
    <meta name="theme-color" content="#f6d3da" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --ink: #5b4b4b;
            --ink-light: #7a6a6a;
            --glow: rgba(255,255,255,.75);
            --bg1: #fff8f5;
            --bg2: #fde8ef;
            --bg3: #f7f2ff;
            --accent: #d4a574;
            --accent-light: #e8c4a0;
            --colH: 90vh;
            --shadow-soft: 0 8px 32px rgba(180,120,130,.12);
            --shadow-medium: 0 16px 40px rgba(130,120,180,.16);
            --shadow-strong: 0 24px 48px rgba(100,80,120,.2);
        }

        * { box-sizing: border-box; }
        html, body { height: 100%; scroll-behavior: smooth; }

        body {
            margin: 0;
            color: var(--ink);
            line-height: 1.6;
            font-family: Inter, system-ui, -apple-system, "Noto Serif TC", "PingFang TC", "Microsoft JhengHei", Arial, sans-serif;
            background: 
                radial-gradient(1400px 700px at 15% 0%, var(--bg2), transparent 65%),
                radial-gradient(1000px 700px at 85% 15%, var(--bg3), transparent 65%),
                radial-gradient(1400px 900px at 50% 120%, #ffe7d8, transparent 65%),
                linear-gradient(180deg, #fff 0%, var(--bg1) 100%);
            min-height: 100vh;
        }

        .wrap {
            display: flex;
            flex-direction: column;
            max-width: 1400px;
            margin: 0 auto;
            gap: 32px;
            padding: 24px;
            min-height: 100vh;
        }

        @media(min-width: 900px) {
            .wrap {
                display: grid;
                grid-template-columns: 1.2fr 1fr;
                gap: 40px;
                align-items: stretch;
                padding: 32px;
            }
        }

        .viewer {
            overflow-y: auto;
            border-radius: 32px;
            background: rgba(255,255,255,.6);
            border: 1px solid rgba(255,255,255,.8);
            backdrop-filter: saturate(150%) blur(16px);
            box-shadow: var(--shadow-medium);
            height: 70vh;
            position: relative;
            transition: all 0.3s ease;
        }

        .viewer:hover { box-shadow: var(--shadow-strong); transform: translateY(-2px); }

        @media(min-width: 900px) { .viewer { height: var(--colH); } }

        .hero {
            display: block;
            width: 100%;
            height: auto;
            user-select: none;
            -webkit-user-drag: none;
            border-radius: 32px;
        }

        .panel {
            background: rgba(255,255,255,.75);
            border: 1px solid rgba(255,255,255,.9);
            border-radius: 28px;
            box-shadow: var(--shadow-medium);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }

        .panel:hover { box-shadow: var(--shadow-strong); }
        @media(min-width: 900px) { .panel { height: var(--colH); } }

        .panel-inner { padding: 32px 24px; overflow: auto; }

        .panel h3 {
            margin: 0 0 16px;
            font-family: "Playfair Display", "Noto Serif TC", serif;
            font-weight: 600;
            font-size: 1.8rem;
            color: var(--accent);
            letter-spacing: .08em;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0,0,0,.05);
        }

        .muted {
            opacity: .8;
            font-size: 1rem;
            text-align: center;
            color: var(--ink-light);
            font-weight: 400;
            margin-bottom: 24px;
        }

        .section { margin-top: 24px; }

        .section h4 {
            margin: 0 0 12px;
            font-size: 1.1rem;
            color: var(--accent);
            font-weight: 600;
            letter-spacing: .02em;
        }

        .section p { margin: 0 0 12px; font-size: 1rem; line-height: 1.7; }

        .info-list { display: grid; grid-template-columns: 1fr; gap: 16px; }

        .item {
            padding: 16px 18px;
            border-radius: 18px;
            background: rgba(255,255,255,.7);
            border: 1px solid rgba(255,255,255,.3);
            box-shadow: var(--shadow-soft);
            transition: all 0.2s ease;
        }

        .item:hover { transform: translateY(-1px); box-shadow: 0 12px 24px rgba(0,0,0,.08); }

        .label { font-weight: 600; color: var(--ink); }

        .map {
            border: 0;
            border-radius: 20px;
            width: 100%;
            height: 280px;
            box-shadow: var(--shadow-medium);
            transition: all 0.3s ease;
        }

        .map:hover { box-shadow: var(--shadow-strong); }

        .nav-btns { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 16px; }

        .btn {
            border: none;
            cursor: pointer;
            padding: 12px 20px;
            border-radius: 999px;
            background: linear-gradient(135deg, var(--glow), rgba(255,255,255,.5));
            box-shadow: var(--shadow-soft), inset 0 0 0 1px rgba(255,255,255,.8);
            font-weight: 600;
            color: var(--ink);
            backdrop-filter: saturate(150%) blur(8px);
            text-decoration: none;
            display: inline-block;
            transition: all 0.2s ease;
            font-size: 0.95rem;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(0,0,0,.12), inset 0 0 0 1px rgba(255,255,255,.9);
            background: linear-gradient(135deg, rgba(255,255,255,.9), rgba(255,255,255,.6));
        }

        .chip {
            font-size: .9rem;
            padding: 10px 16px;
            background: rgba(255,255,255,.7);
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,.9);
            box-shadow: var(--shadow-soft);
        }

        .copy { font-size: .9rem; margin-left: 8px; padding: 8px 16px; }

        footer { text-align: center; font-size: .9rem; opacity: .7; padding: 24px 0 32px; color: var(--ink-light); }

        .music {
            position: fixed;
            right: 20px;
            bottom: 20px;
            z-index: 10;
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .hide { display: none; }

        /* Enhanced Countdown Design */
        .countdown {
            margin-top: 16px;
            border-radius: 24px;
            background: linear-gradient(135deg, #2a1f3d 0%, #3d2a5c 100%);
            color: #fff;
            box-shadow: var(--shadow-strong);
            padding: 28px 20px;
            position: relative;
            overflow: hidden;
        }

        .countdown::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: 
                radial-gradient(circle at 20% 20%, rgba(255,255,255,.08) 1px, transparent 1px),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,.06) 1px, transparent 1px);
            background-size: 30px 30px, 40px 40px;
            pointer-events: none;
        }

        .cd-title {
            display: flex; align-items: center; gap: 16px;
            color: #fff; opacity: .95; font-weight: 700; letter-spacing: .12em;
            margin: 0 0 24px; text-shadow: 0 2px 8px rgba(0,0,0,.3);
            font-size: 1.1rem; position: relative; z-index: 1;
        }

        .cd-names {
            font-family: "Playfair Display", "Noto Serif TC", serif;
            font-size: 1.3rem; font-weight: 600; color: var(--accent-light);
            text-shadow: 0 2px 8px rgba(0,0,0,.4); letter-spacing: .08em;
        }

        .cd-subtitle { font-size: 0.9rem; opacity: 0.8; font-weight: 500; }
        .cd-dot { flex: 1; height: 2px; background: linear-gradient(90deg, transparent, rgba(255,255,255,.4), transparent); border-radius: 1px; }

        .cd-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px; position: relative; z-index: 1; }

        .cd-box {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            background: rgba(255,255,255,.1); border: 1px solid rgba(255,255,255,.15);
            border-radius: 20px; padding: 20px 8px; text-align: center; transition: all 0.3s ease; backdrop-filter: blur(4px);
        }

        .cd-box:hover { transform: translateY(-2px); background: rgba(255,255,255,.15); box-shadow: 0 8px 20px rgba(0,0,0,.2); }

        .cd-num {
            font-weight: 800; font-size: clamp(32px, 5vw, 72px); line-height: 1; letter-spacing: .02em;
            text-shadow: 0 2px 8px rgba(0,0,0,.3);
            background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,.8) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }

        .cd-lab { opacity: .85; font-weight: 600; letter-spacing: .15em; font-size: clamp(11px, 1.6vw, 18px); margin-top: 8px; color: rgba(255,255,255,.9); }

        .cd-done { text-align: center; padding: 20px; font-weight: 700; font-size: 1.2rem; position: relative; z-index: 1; }

        @media (max-width: 720px) {
            .cd-grid { grid-template-columns: repeat(3, 1fr); gap: 12px; }
            .cd-box { padding: 16px 6px; }
            .cd-title { font-size: 1rem; margin-bottom: 20px; }
            .cd-names { font-size: 1.1rem; }
        }

        @media (max-width: 420px) {
            .cd-grid { grid-template-columns: repeat(2, 1fr); }
            .cd-names { font-size: 1rem; }
            .cd-subtitle { font-size: 0.8rem; }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .panel-inner > * { animation: fadeInUp 0.6s ease forwards; }
        .panel-inner > *:nth-child(2) { animation-delay: 0.1s; }
        .panel-inner > *:nth-child(3) { animation-delay: 0.2s; }
        .panel-inner > *:nth-child(4) { animation-delay: 0.3s; }
        .panel-inner > *:nth-child(5) { animation-delay: 0.4s; }
        .panel-inner > *:nth-child(6) { animation-delay: 0.5s; }

        .btn:focus, button:focus { outline: 2px solid var(--accent); outline-offset: 2px; }

        @media (max-width: 480px) {
            .panel h3 { font-size: 1.5rem; }
            .panel-inner { padding: 24px 20px; }
        }
    </style>
</head>

<body>
    <main class="wrap">
        <!-- 左：可自動+手動滾動 -->
        <section class="viewer" id="viewer" aria-label="婚禮邀請視覺">
            <img id="hero" class="hero" src="S__135061520.png" alt="翊青 § 祖萍 Wedding Invitation 主視覺">
        </section>

        <!-- 右：倒數與地點 -->
        <section class="panel" aria-label="資訊與地圖">
            <div class="panel-inner">
                <h3>我們的婚禮倒數</h3>
                <div class="muted">期待與您共享這美好的時刻</div>

                <!-- Enhanced Countdown Timer -->
                <div id="countdown" class="countdown" role="group" aria-label="倒數計時">
                    <div class="cd-title">
                        <div class="cd-names">翊青 § 祖萍</div>
                        <span class="cd-dot" aria-hidden="true"></span>
                    </div>
                    <div class="cd-title" style="margin-top: -16px; margin-bottom: 24px;">
                        <span class="cd-subtitle">WEDDING INVITATION</span>
                    </div>
                    
                    <div class="cd-grid" aria-live="polite">
                        <div class="cd-box">
                            <div class="cd-num" id="cd-months">--</div>
                            <div class="cd-lab">MONTH</div>
                        </div>
                        <div class="cd-box">
                            <div class="cd-num" id="cd-days">--</div>
                            <div class="cd-lab">DAYS</div>
                        </div>
                        <div class="cd-box">
                            <div class="cd-num" id="cd-hours">--</div>
                            <div class="cd-lab">HOURS</div>
                        </div>
                        <div class="cd-box">
                            <div class="cd-num" id="cd-mins">--</div>
                            <div class="cd-lab">MINUTES</div>
                        </div>
                        <div class="cd-box">
                            <div class="cd-num" id="cd-secs">--</div>
                            <div class="cd-lab">SECONDS</div>
                        </div>
                    </div>
                    <div id="cd-done" class="cd-done" hidden>🎉 今天見！</div>
                </div>

                <div class="section">
                    <h4>日期 Date</h4>
                    <div class="info-list">
                        <div class="item"><span class="label">2025/11/1（六）</span> Saturday Lunch 午宴</div>
                    </div>
                </div>

                <div class="section">
                    <h4>時間 Time</h4>
                    <div class="info-list">
                        <div class="item">中午 <b>12:00</b> 入席，<b>12:30</b> 婚宴準時開席</div>
                    </div>
                </div>

                <div class="section">
                    <h4>地點 Location</h4>
                    <p>萊特薇庭 高雄館・<b>心閱閣 9樓</b></p>
                    <p>
                        <span id="addr">高雄市前鎮區林森四路189號</span>
                        <button class="btn copy" id="copyBtn" aria-label="複製地址">複製地址</button>
                    </p>
                    <iframe class="map" title="Google 地圖 - 萊特薇庭 高雄館" 
                            src="https://www.google.com/maps?q=%E8%90%8A%E7%89%B9%E8%96%87%E5%BA%AD%20%E9%AB%98%E9%9B%84%E9%A4%A8%20Light%20Wedding%20Kaohsiung%20%E6%9E%97%E6%A3%AE%E5%9B%9B%E8%B7%AF189%E8%99%9F&output=embed" 
                            allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    <div class="nav-btns" role="group" aria-label="導航按鈕">
                        <a class="btn" target="_blank" rel="noopener" 
                           href="https://www.google.com/maps?q=%E8%90%8A%E7%89%B9%E8%96%87%E5%BA%AD%20%E9%AB%98%E9%9B%84%E9%A4%A8%20Light%20Wedding%20Kaohsiung%20%E6%9E%97%E6%A3%AE%E5%9B%9B%E8%B7%AF189%E8%99%9F">
                            打開 Google Maps
                        </a>
                        <a class="btn" target="_blank" rel="noopener" 
                           href="https://maps.apple.com/?q=%E8%90%8A%E7%89%B9%E8%96%87%E5%BA%AD%20%E9%AB%98%E9%9B%84%E9%A4%A8&address=%E9%AB%98%E9%9B%84%E5%B8%82%E5%89%8D%E9%8E%AE%E5%8D%80%E6%9E%97%E6%A3%AE%E5%9B%9B%E8%B7%AF189%E8%99%9F">
                            打開 Apple 地圖
                        </a>
                    </div>
                </div>

                <div class="section">
                    <h4>停車 Parking</h4>
                    <div class="item">承億酒店專屬停車場（建議提早到場，以免車位滿位）</div>
                </div>
            </div>
        </section>
    </main>

    <footer>© 翊青 § 祖萍 Wedding 2025</footer>

    <!-- 背景音樂：加入 playsinline，提升行動裝置相容性 -->
    <audio id="bgm" src="music.mp3" preload="auto" loop playsinline></audio>
    <div class="music" aria-live="polite">
        <button id="toggle" class="btn">▶︎ 播放音樂</button>
        <span id="hint" class="chip hide">若未自動播放，請點一下畫面</span>
    </div>

    <!-- 自動捲動 viewer（連續位移） -->
    <script>
        (() => {
            const viewer = document.getElementById('viewer');
            const img = document.getElementById('hero');
            let speed = 25; // px / 秒
            let auto = true;
            let start = null;
            let rafId = 0;
            let maxScroll = 0;

            function recalc() {
                const imgH = img.naturalHeight || img.scrollHeight;
                maxScroll = Math.max(0, imgH - viewer.clientHeight);
            }

            function loop(ts) {
                if (!auto) return;
                if (start == null) start = ts;
                const elapsed = (ts - start) / 1000; // 秒
                if (maxScroll > 0) {
                    const y = (elapsed * speed) % (maxScroll + 1);
                    viewer.scrollTop = y;
                }
                rafId = requestAnimationFrame(loop);
            }

            function startAuto() {
                cancelAnimationFrame(rafId);
                start = null;
                auto = true;
                rafId = requestAnimationFrame(loop);
            }

            function stopAuto() {
                auto = false;
                cancelAnimationFrame(rafId);
            }

            img.addEventListener('load', () => {
                recalc();
                startAuto();
            }, { passive: true });

            if (img.complete) {
                recalc();
                startAuto();
            }

            window.addEventListener('resize', () => {
                recalc();
                start = null;
            }, { passive: true });

            ['wheel', 'touchstart', 'pointerdown', 'keydown'].forEach(ev => {
                viewer.addEventListener(ev, stopAuto, { passive: true });
            });

            if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                stopAuto();
            }
        })();
    </script>

    <!-- 音樂控制 + 複製地址（自動播放解鎖 & 可正常暫停） -->
    <script>
        const audio = document.getElementById('bgm');
        const playBtn = document.getElementById('toggle');
        const hint = document.getElementById('hint');
        const musicWrap = document.querySelector('.music');

        // 只作為 UI 狀態，表示已由互動解鎖自動播放限制
        let autoplayUnlocked = false;

        async function setPlaying(playing) {
            try {
                if (playing) {
                    await audio.play();
                    playBtn.textContent = '⏸︎ 暫停音樂';
                    hint.classList.add('hide');
                } else {
                    audio.pause();
                    playBtn.textContent = '▶︎ 播放音樂';
                }
            } catch (e) {
                // 若被瀏覽器阻擋自動播放
                hint.classList.remove('hide');
                throw e;
            }
        }

        // 1) 嘗試自動播放（可能被攔）
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                await setPlaying(true);
                autoplayUnlocked = true;
            } catch (_) {
                // 被擋住屬正常，等待互動解鎖
            }
        });

        // 2) 互動解鎖：第一次非控制區的互動即播放
        const unlock = async (e) => {
            if (musicWrap && (e.target === musicWrap || e.target.closest('.music'))) return;
            if (!autoplayUnlocked && audio.paused) {
                setTimeout(async () => {
                    try {
                        await setPlaying(true);
                        autoplayUnlocked = true;
                    } catch (_) {}
                }, 0);
            }
        };
        document.addEventListener('pointerdown', unlock, { once: true, passive: true });
        document.addEventListener('touchend',   unlock, { once: true, passive: true });
        document.addEventListener('keydown',    unlock, { once: true });

        // 從背景回前景時再嘗試一次（有些環境回前景會放寬限制）
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden && !autoplayUnlocked && audio.paused) {
                unlock(new Event('visibilitychange'));
            }
        }, { passive: true });

        // 3) 控制按鈕：阻止冒泡，避免觸發一次性 unlock
        playBtn.addEventListener('click', async (e) => {
            e.stopPropagation();
            try {
                if (audio.paused) {
                    await setPlaying(true);
                    autoplayUnlocked = true;
                } else {
                    setPlaying(false);
                }
            } catch (_) {
                // 若仍被擋，提示已顯示
            }
        });

        // 4) 複製地址（原樣保留）
        document.getElementById('copyBtn').addEventListener('click', async (e) => {
            const addr = document.getElementById('addr').textContent.trim();
            const self = e.currentTarget;
            try {
                await navigator.clipboard.writeText(addr);
                const old = self.textContent;
                self.textContent = '已複製 ✓';
                setTimeout(() => (self.textContent = old), 1500);
            } catch (err) {
                console.log('複製功能需要 HTTPS 環境');
            }
        });
    </script>

    <!-- 倒數計時器（純前端） -->
    <script>
        /**
         * 自家倒數：到 2025-11-01 12:30:00 +08:00
         * - 以「曆法月」計算：先扣完整月，再拆成天/時/分/秒
         * - 每秒更新、無外部依賴、支援讀屏（aria-live）
         */
        (function() {
            const $ = (id) => document.getElementById(id);
            const pad2 = (n) => String(Math.max(0, Math.floor(n))).padStart(2, '0');

            // 目標時間（台北 +08:00）
            const target = new Date('2025-11-01T12:30:00+08:00');

            function addMonthsKeepDate(d, m) {
                const dt = new Date(d.getTime());
                const wantDay = dt.getDate();
                dt.setDate(1);
                dt.setMonth(dt.getMonth() + m);
                const lastDay = new Date(dt.getFullYear(), dt.getMonth() + 1, 0).getDate();
                dt.setDate(Math.min(wantDay, lastDay));
                return dt;
            }

            function diffParts(now, end) {
                if (now >= end) return { done: true, months: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };

                let months = 0;
                let t = new Date(now.getTime());
                while (true) {
                    const next = addMonthsKeepDate(t, 1);
                    if (next <= end) {
                        t = next;
                        months++;
                    } else {
                        break;
                    }
                }

                let ms = end - t;
                const days = Math.floor(ms / (24 * 3600e3));
                ms -= days * 24 * 3600e3;
                const hours = Math.floor(ms / 3600e3);
                ms -= hours * 3600e3;
                const minutes = Math.floor(ms / 60e3);
                ms -= minutes * 60e3;
                const seconds = Math.floor(ms / 1e3);

                return { done: false, months, days, hours, minutes, seconds };
            }

            const elM = $('cd-months'), elD = $('cd-days'), elH = $('cd-hours'),
                  elMin = $('cd-mins'), elS = $('cd-secs'), elDone = $('cd-done');

            let rafId = 0, lastWholeSec = -1;

            function tick() {
                const now = new Date();
                const wholeSec = Math.floor(now.getTime() / 1000);
                if (wholeSec !== lastWholeSec) {
                    lastWholeSec = wholeSec;
                    const d = diffParts(now, target);
                    if (d.done) {
                        elDone.hidden = false;
                        elM.textContent = '00';
                        elD.textContent = '00';
                        elH.textContent = '00';
                        elMin.textContent = '00';
                        elS.textContent = '00';
                        cancelAnimationFrame(rafId);
                        return;
                    }
                    elM.textContent = pad2(d.months);
                    elD.textContent = pad2(d.days);
                    elH.textContent = pad2(d.hours);
                    elMin.textContent = pad2(d.minutes);
                    elS.textContent = pad2(d.seconds);
                }
                rafId = requestAnimationFrame(tick);
            }

            tick();
        })();
    </script>

    <!-- 結構化資料（分享/搜尋顯示） -->
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Event",
            "name": "翊青 § 祖萍的婚禮 午宴",
            "startDate": "2025-11-01T12:30:00+08:00",
            "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
            "eventStatus": "https://schema.org/EventScheduled",
            "location": {
                "@type": "Place",
                "name": "萊特薇庭 高雄館 心閱閣 9樓",
                "address": {
                    "@type": "PostalAddress",
                    "streetAddress": "林森四路189號",
                    "addressLocality": "前鎮區",
                    "addressRegion": "高雄市",
                    "addressCountry": "TW"
                }
            },
            "image": ["S__135061520.png"],
            "description": "2025/11/1（六）中午12:00入席、12:30準時開席。停車：承億酒店專屬停車場",
            "organizer": { "@type": "Organization", "name": "翊青 § 祖萍 Wedding" }
        }
    </script>
</body>
</html>
